syntax = "proto3";

option go_package = "github.com/cjc7373/bitcoin_go/internal/network/proto";

import "internal/block/proto/blockchain.proto";
// import "internal/block/proto/block.proto";

service Bitcoin {
    rpc BroadcastNodes(NodeBroadcast) returns (Empty) {}
    // chain metadata will be broadcasted when a new block is mined
    rpc BroadcastChainMetadata(Blockchain) returns (Empty) {}
    // tx will be broadcasted when a node received one from a client
    // rpc BroadcastTransactions()
    // rpc RequestBlock()
}

message NodeBroadcast {
    repeated Node nodes = 1;
    uint32 TTL = 2;
}

message Empty {}

message Node {
    string address = 1;
    string name = 2;
}
